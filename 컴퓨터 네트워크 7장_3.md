># 7.5 차세대 IP(IPv6)
## IPv4의 주소 고갈과 이 프로토콜의 다른 단점들은 1990년대 초반에 인터넷 프로토콜 버전 6(IPv6) 또는 IP new generation(IPng)이라고 불리는 새로운 버전의 IP 프로토콜을 촉발시켰습니다.

># 7.5.1 IPv6 Addressing
## IPv4에서 IPv6로 마이그레이션한 주요 이유는 IPv4의 주소 공간의 작은 크기 때문이었습니다. 
## IPv6 주소는 IPv4 주소 길이의 4배인 128비트 또는 16바이트입니다.


># Representation(표시, 표현, 묘사)
## IPv6 주소는 128비트 또는 16바이트로 IPv4 주소 길이의 4배입니다.
<img width="690" alt="스크린샷 2024-04-18 오후 1 16 36" src="https://github.com/junhyeok030213/computer_network/assets/106813806/d80e1948-f963-49ff-9d42-7f55786e430a">

># Abbreviation(약어)
## Zero compression(제로 압축)

># 주소 유형
## 유니캐스트 주소
- 유니캐스트 주소는 단일 인터페이스(컴퓨터 또는 라우터)를 정의함.
- 유니캐스트 주소로 전송된 패킷은 의도된 수신자에게 라우팅됨

## 애니캐스트 주소
- 애니캐스트 주소는 모두 단일 주소를 공유하는 컴퓨터 그룹을 정의함
- 애니캐스트 주소를 가진 패킷은 가장 접근하기 쉬운 그룹의 한 구성원에게만 전달됨
- 애니캐스트 통신은 예를 들어 조회에 응답할 수 있는 서버가 여러 개인 경우에 사용됨. 요청은 가장 도달할 수 있는 사람에게 전송

## 멀티 캐스트 주소
- 애니캐스팅과 멀티캐스팅 사이에는 차이가 있음. 애니캐스팅에서는 단 하나 패킷 사본이 그룹 구성원 중 한 명에게 전송됨. 멀티캐스팅에서 각각의 그룹 구성원이 사본을 받음.

># Address Space(주소 공간)
## IPv6의 주소 공간은 2^128개의 주소를 포함합니다. 이 주소 공간은 IPv4 주소의 2^96배이며, 주소가 고갈되지 않습니다. 표시된 바와 같이 공간의 크기는
<img width="457" alt="스크린샷 2024-04-18 오후 1 21 27" src="https://github.com/junhyeok030213/computer_network/assets/106813806/dac21ab2-bd93-4e0e-a4b5-84ed4f46aea3">

># 주소 공간 할당
## IPv4의 주소 공간과 마찬가지로 IPv6의 주소 공간도 다양한 크기의 여러 블록으로 나뉘며 각 블록은 특별한 용도로 할당됩니다. 
## 대부분의 블록은 아직 할당되지 않았으며 향후 사용을 위해 따로 보관되어 있습니다. 
## 표 7.5는 할당된 블록만 보여줍니다. 이 표에서 마지막 열은 전체 주소 공간에서 각 블록이 차지하는 비율을 보여줍니다.

># 표 7.5 할당된 IPv6 주소의 접두사
<img width="632" alt="스크린샷 2024-04-18 오후 1 22 50" src="https://github.com/junhyeok030213/computer_network/assets/106813806/67e8ff50-c8c0-433e-b863-c2cec7e7cfb0">

># 그림 7.41 글로벌 유니캐스트 주소
<img width="704" alt="스크린샷 2024-04-18 오후 1 23 33" src="https://github.com/junhyeok030213/computer_network/assets/106813806/341da31e-25dd-4c20-98aa-e31989517a21">

># 그림 7.42 물리적 주소로 UI-64 매핑
<img width="713" alt="스크린샷 2024-04-18 오후 1 23 59" src="https://github.com/junhyeok030213/computer_network/assets/106813806/aeb0f341-27ed-4430-b55f-aca8a5aaf58e">

># 그림 7.43 이더넷 MAC 매핑
<img width="701" alt="스크린샷 2024-04-18 오후 1 24 23" src="https://github.com/junhyeok030213/computer_network/assets/106813806/8cd37ebf-b8ec-4578-a07e-ae1c1aced643">

># 예 7.26
## 이더넷 주소에 대해 정의한 형식을 사용하여 EUI의 물리적 주소가(F5-A9-23-EF-07-14-7A-D2)_16인 경우 인터페이스 식별자를 찾는다.
# 해결책
## 첫 번째 옥텟의 일곱 일곱 번째 비트만 0에서 1로 변경하면 된다. 형식을 콜론 16진수 표기법으로 변경한다. 결과는 F7A9:23EF:0714:7AD2 이다.

># 예 7.27
## 이더넷 주소에 대해 정의한 형식을 사용하여 이더넷 물리적 주소가 (F5-A9-23-14-7A-D2)_16 인 경우 인터페이스 식별자를 찾는다.
# 해결책
## 첫 번째 옥텟의 일곱 번째 비트를 0에서 1로 변경하고 두 옥텟 FFFE_16 을 삽입한 다음 형식을 콜론 16진수 표기법으로 변경하면 된다. 결과는 콜론 16진수 형식의 F7A9:23FF:FE14:7AD2이다.

># 예 7.28
## 조직에는 블럭 2000:1456:2472/48이 할당된다. 컴퓨터의 IEEE물리적 주소가 다음인 경우 세  번째 서브넷에 있는 인터페이스의 IPv6 주소는 무엇인가?
<img width="248" alt="스크린샷 2024-04-18 오후 1 38 18" src="https://github.com/junhyeok030213/computer_network/assets/106813806/c6f6b6c5-95a0-46ec-87e5-977f5e4f2d51">

# 해결책
## 이 인터페이스의 인터페이스 식별자는 다음과 같다.
<img width="273" alt="스크린샷 2024-04-18 오후 1 52 51" src="https://github.com/junhyeok030213/computer_network/assets/106813806/216ed98a-7853-4018-b114-b55956eb3001">

## 이 식별자를 전역 접두사 및 서브넷 식별자에 할당하면 다음과 같은 결과를 얻는다.
<img width="538" alt="스크린샷 2024-04-18 오후 1 53 02" src="https://github.com/junhyeok030213/computer_network/assets/106813806/d41cc297-b038-4ca0-865a-f5c46b0a8c0e">

># Special Addresses(특별 주소)
## 글로벌 유니캐스트 블록에 대해 논의한 후 표 7.5의 첫 번째 행에 있는 할당된 블록과 예약된 블록의 특성과 목적에 대해 논의합니다. 접두사 (0000:/8)를 사용하는 주소는 예약되지만 이 블록의 일부는 일부 특수한 주소를 정의하는 데 사용됩니다. 그림 7.44는 이 블록의 할당된 주소를 보여줍니다.

># 그림 7.44 특별 주소
<img width="718" alt="스크린샷 2024-04-18 오후 1 41 57" src="https://github.com/junhyeok030213/computer_network/assets/106813806/a12fd19f-4721-4126-aa1e-fba55fbc61e7">

># 기타 할당된 블록
## IPv6는 그림 7.45와 같이 개인 주소 지정을 위한 두 개의 큰 블록과 멀티캐스팅을 위한 하나의 큰 블록을 사용합니다.

># 그림 7.45 고유한 로컬 유니캐스트 블록
<img width="727" alt="스크린샷 2024-04-18 오후 1 43 20" src="https://github.com/junhyeok030213/computer_network/assets/106813806/ee75d85d-b3bb-498f-87fd-02522123e358">

># Autoconfiguration(자동 구성)
## IPv6 주소 지정의 흥미로운 특징 중 하나는 호스트의 자동 구성입니다. 

## IPv4에서 설명했듯이 호스트와 라우터는 원래 네트워크 관리자에 의해 수동으로 구성됩니다. 

## 그러나 동적 호스트 구성 프로토콜인 DHCP를 사용하여 네트워크에 가입하는 호스트에 IPv4 주소를 할당할 수 있습니다. 

## IPv6에서는 DHCP 프로토콜을 사용하여 호스트에 IPv6 주소를 할당할 수 있지만 호스트는 자체적으로 구성할 수도 있습니다.

- 링크 로컬 주소 만들기 -> 고유성 확인 -> 라우터 요청 메시지 전송 및 글로벌 유니캐스트 접두사 결합을 알리는 라우터 알림 메시지 수신

># 예 7.29(1)
## 이더넷 주소(F5-A9-23-11-9B-E2)_16를 가진 호스트가 네트워크에 연결되었다고 가정한다. 조직의 글로벌 유니캐스트 접두사가 3A21:1216:2165이고 서브넷 식별자가 A245:1232인 경우 글로벌 유니캐스트 주소는 무엇인가?
# 해결책
## 호스트는 먼저 인터페이스 식별자를 다음과 같이 생성한다. F7A9:23FF:FE11:9BE2는 카드에서 읽은 이더넷 주소를 사용한다. 그런 다음 호스트는 다음과 같이 링크 로컬 주소를 생성한다. <img width="334" alt="스크린샷 2024-04-18 오후 1 52 12" src="https://github.com/junhyeok030213/computer_network/assets/106813806/2b8f5146-6cca-4c35-af64-dbad59b63c02">


># 예 7.29(2)
## 이 주소가 고유하다고 가정하면 호스트는 라우터 요청 메시지를 보내고 다음과 같이 글로벌 유니캐스트 접두사와 서브넷 식별자의 조합을 알리는 라우터 광고 메시지를 받는다.
<img width="302" alt="스크린샷 2024-04-18 오후 1 51 11" src="https://github.com/junhyeok030213/computer_network/assets/106813806/ba725d97-5960-4129-ada3-1666c6188d59">

## 그런 다음 호스트는 이 접두사에 인터페이스 식별자를 추가하여 글로벌 유니캐스트 주소를 찾아 저장합니다:
<img width="568" alt="스크린샷 2024-04-18 오후 1 51 53" src="https://github.com/junhyeok030213/computer_network/assets/106813806/451650c1-be24-4d64-a0f4-6bf193ee6d73">
